<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width-device-width, initial-scale=1.0" />
    <title>Flexshoe | Ecommerce website</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!--added a cdn link by searching font awesome4 cdn and getting this link from https://www.bootstrapcdn.com/fontawesome/ this url*/-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <style>
      dialog {
        left: 40%;
        top: 20%;
        position: absolute;
        border: none;
        border-radius: 10px;
        padding: 20px;
        width: 300px;
        text-align: center;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
      }

      button {
        margin-top: 10px;
        padding: 8px 15px;
        border: none;
        background: #007bff;
        color: white;
        cursor: pointer;
        border-radius: 5px;
      }

      button:hover {
        background: #0056b3;
      }
    </style>
  </head>

  <body>
    <div class="header">
      <div class="container">
        <div class="navbar">
          <div class="logo">
            <a href="index.html"
              ><img src="images/logo_shoe.png" width="175px"
            /></a>
          </div>
          <nav>
            <ul id="MenuItems">
              <li><a href="index.html">Home</a></li>
              <li><a href="products.html">Products</a></li>
              <li><a href="">About</a></li>
              <li><a href="">Contact</a></li>
              <li id="account-link"></li>
              <li id="signout-link" style="display: none">
                <a href="#" onclick="signOut()">Sign Out</a>
              </li>
            </ul>
          </nav>
          <a href="cart.html"
            ><img src="images/cart.png" width="30px" height="30px"
          /></a>
          <img src="images/menu.png" class="menu-icon" onClick="menutoggle()" />
        </div>
        <dialog id="errorDialog">
          <p id="errorMessage">Error message here</p>
          <button onclick="closeDialog()">Close</button>
        </dialog>
        <div class="row">
          <div class="col-2">
            <h1>Give your Workout <br />A New Style!</h1>
            <p>
              Success isn't always about greatness. It's about consistency.
              Consistent<br />hard work gains success. Greatness will come.
            </p>
            <a href="products.html" class="btn">Explore Now &#8594;</a>
          </div>
          <div class="col-2">
            <img src="images/image1.png" />
          </div>
        </div>
      </div>
    </div>

    <!------------------------------ featured categories------------------------------>
    <div class="categories">
      <div class="small-container">
        <div class="row">
          <div class="col-3">
            <img src="images/category-1.jpg" />
          </div>
          <div class="col-3">
            <img src="images/category-2.jpg" />
          </div>
          <div class="col-3">
            <img src="images/category-3 (2).jpg" />
          </div>
        </div>
      </div>
    </div>

    <!------------------------------ featured Products------------------------------>
    <div class="small-container">
      <h2 class="title">Featured Products</h2>
      <div class="row" id="container1">

      </div>

      <h2 class="title">Latest Products</h2>
      <div class="row" id="container2">
        
      </div>
      <!--new row for the latest product-->
      
    </div>

    <!--------------------------`   offer   --------------------------------->
    <div class="offer">
      <div class="small-container">
        <div class="row">
          <div class="col-2">
            <img src="images/image1.png" class="offer-img" />
          </div>
          <div class="col-2">
            <p>Exclusively Available on Flexshoe</p>
            <h1>Sports Shoes</h1>
            <small>
              Buy latest collections of sports shoes online on Flexshoe at best
              prices from top brands such as Adidas, Nike, Puma, Asics, and
              Sparx at your leisure at best prices. </small
            ><br />
            <a href="products.html" class="btn">Buy Now &#8594;</a>
          </div>
        </div>
      </div>
    </div>

    <!------------------------------Testimonial---------------------------------->
    <div class="testimonial">
      <div class="small-container">
        <div class="row">
          <div class="col-3">
            <i class="fa fa-quote-left"></i>
            <p>
              These shoes are incredible! They offer great arch support and
              exceptional grip on both tracks and trails. After miles of
              running, they still feel light and comfortable. No blisters or
              discomfort during training. Highly recommend for athletes of all
              levels.
            </p>
            <div class="rating">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star-o"></i>
            </div>
            <img src="images/no-dp_16.webp" />
            <h3>Customer</h3>
          </div>
          <div class="col-3">
            <i class="fa fa-quote-left"></i>
            <p>
              Soft fabric, perfect fit! The t-shirt is breathable, doesnâ€™t
              shrink after washing, and is super comfortable even for long,
              active days. The color stayed vibrant after several washes.
              Definitely worth it for everyday wear or gym use!
            </p>
            <div class="rating">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star-o"></i>
            </div>
            <img src="images/no-dp_16.webp" />
            <h3>Customer</h3>
          </div>
          <div class="col-3">
            <i class="fa fa-quote-left"></i>
            <p>
              Loved the comfort and stretch of these pants! They feel super
              lightweight and breathable, making them ideal for workouts or
              casual wear. The waistband doesnâ€™t dig in, and the length is
              perfect. Great value for the price!
            </p>
            <div class="rating">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star-o"></i>
            </div>
            <img src="images/no-dp_16.webp" />
            <h3>Customer</h3>
          </div>
        </div>
      </div>
    </div>

    <!----------------------------------Brands------------------------------------>
    <div class="brands">
      <div class="small-container">
        <div class="row">
          <div class="col-5">
            <img src="images/logo-godrej.png" alt="" />
          </div>
          <div class="col-5">
            <img src="images/logo-oppo.png" alt="" />
          </div>
          <div class="col-5">
            <img src="images/logo-coca-cola.png" alt="" />
          </div>
          <div class="col-5">
            <img src="images/logo-paypal.png" alt="" />
          </div>
          <div class="col-5">
            <img src="images/logo-philips.png" alt="" />
          </div>
        </div>
      </div>
    </div>

    <!----------------------------------footer------------------------------------->
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="footer-col-1">
            <h3>Download Our App</h3>
            <p>Download App for Android and ios mobile phone.</p>
            <div class="app-logo">
              <img src="images/play-store.png" alt="" />
              <img src="images/app-store.png" alt="" />
            </div>
          </div>
          <div class="footer-col-2">
            <img src="images/logo_shoe.png" />
            <p>
              Our Purpose Is To Sustainably Make the Pleasure and Benefits of
              Sports Accessible to the Many.
            </p>
          </div>
          <div class="footer-col-3">
            <h3>Useful Links</h3>
            <ul>
              <li>Coupons</li>
              <li>Blog Post</li>
              <li>Return Policy</li>
              <li>Join Affiliate</li>
            </ul>
          </div>
          <div class="footer-col-4">
            <h3>Follow us</h3>
            <ul>
              <li>Facebook</li>
              <li>Twitter</li>
              <li>Instagram</li>
              <li>Youtube</li>
            </ul>
          </div>
        </div>

        <hr />
        <!--horizontal line-->
        <p class="copyright">Copyright 2025 - Shoeb</p>
      </div>
    </div>

    <!-----------------------------------js for toggle menu----------------------------------------------->
    <script>
      function showDialog(message) {
        document.getElementById("errorMessage").textContent = message;
        document.getElementById("errorDialog").showModal();
      }

      function closeDialog() {
        document.getElementById("errorDialog").close();
      }
      async function checkAdmin() {
        const token = document.cookie
          .split("; ")
          .find((row) => row.startsWith("adminToken="));
        return token.split("=")[1];
      }
      async function fetchProducts() {
        let token = checkAdmin();
        try {
          const response = await fetch(
            "https://flex-store-db.onrender.com/product",
            {
              headers: { Authorization: `Bearer ${token}` },
            }
          );

          if (!response.ok) throw new Error("Failed to fetch");

          const products = await response.json();
          const container = document.getElementById("container1");
          const container2 = document.getElementById("container2");

          if (!products.length) {
            container.innerHTML =
              "<p style='color: red;'>No products available.</p>";
            return;
          }

          products.slice(0, 4).forEach((product) => {
            const productCard = `
            <div class="col-4">
                <a href="products-details.html?name=${product._id}">
                <img src="${product.imageUrl}" alt="${product.productName}">
                </a>
                <a href="products-details.html?name=${product._id}">
                <h4>${product.productName}</h4>
                </a>
                <div class="rating">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star-half-o"></i>
                <i class="fa fa-star-o"></i>
                </div>
                <p>â‚¹ ${product.price}</p>
            </div>`;
        
        container.innerHTML += productCard;
          });

          products.slice(4).forEach((product) => {
            const productCard = `
            <div class="col-4">
                <a href="products-details.html?name=${product._id}">
                <img src="${product.imageUrl}" alt="${product.productName}">
                </a>
                <a href="products-details.html?name=${product._id}">
                <h4>${product.productName}</h4>
                </a>
                <div class="rating">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star-half-o"></i>
                <i class="fa fa-star-o"></i>
                </div>
                <p>â‚¹ ${product.price}</p>
            </div>`;
        
        container2.innerHTML += productCard;
          });
        } catch (error) {
          console.error("Error fetching products:", error);
          document.getElementById("container1").innerHTML =
            "<p style='color: red;'>Failed to load products.</p>";
        }
      }
      fetchProducts();
      function getCookie(name) {
        const cookies = document.cookie.split("; ");
        for (let i = 0; i < cookies.length; i++) {
          const parts = cookies[i].split("=");
          if (parts[0] === name) {
            return decodeURIComponent(parts[1]);
          }
        }
        return null;
      }

      function deleteCookie(name) {
        document.cookie =
          name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      }

      deleteCookie("token");

      function updateNavbar() {
        const username = getCookie("username");
        const accountLink = document.getElementById("account-link");
        const signoutLink = document.getElementById("signout-link");

        if (username) {
          accountLink.innerHTML = `<a href="account.html">ðŸ‘¤ ${username}</a>`;
          signoutLink.style.display = "block";
        } else {
          accountLink.innerHTML = `<a href="account.html">Sign In</a>`;
          signoutLink.style.display = "none";
        }
      }

      function signOut() {
        deleteCookie("username");
        updateNavbar();
        window.location.href = "account.html";
      }

      updateNavbar();
      var menuItems = document.getElementById("MenuItems");

      MenuItems.style.maxHeight = "0px";
      function menutoggle() {
        if (MenuItems.style.maxHeight == "0px") {
          MenuItems.style.maxHeight = "200px";
        } else {
          MenuItems.style.maxHeight = "0px";
        }
      }
    </script>
  </body>
</html>
